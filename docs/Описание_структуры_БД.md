# Описание структуры БД

## ER-диаграмма

ER-диаграмма представлена в двух вариантах:
1. [ERD.pgerd](ERD.pgerd) – для использования в pgAdmin.
2. [ERD.png](ERD.png) – изображение диаграммы.


## Описание сущностей и соответствующих таблиц

*Т.к. при выдаче заданий было сказано **"Вся необходимая информация и детали представлены по указанной ссылке."**, 
я не уточнял некоторые неясные моменты, а старался интерпретировать их самостоятельно, 
и реализовать это в системе.*

*Во всех таблицах есть поле id – автоинкрементное целочисленное.*

### Здание

Таблица – buildings

Поля:

address – адрес, обязательная уникальная строка (255 символов);

info - дополнительная информация, необязательная строка (255).

### Аудитория

*Каждая аудитория находится в каком-то здании.*

Таблица – audiences

Поля:

number – номер аудитории, обязательная строка (10);

building_id - внешний ключ на здание.

### Факультет

Таблица – faculties

Поля:

name – название, обязательная уникальная строка (100).

### Отделение

*Я интерпретировал как форму обучения. Т.е. это справочник со значениями: "очная", "заочная" и т.п.*

Таблица – departments

Поля:

name – название, обязательная уникальная строка (100).

### Группа

*Принадлежит факультету и характеризуется формой обучения.*

Таблица – groups

Поля:

name – название, обязательная уникальная строка (20);

faculty_id - внешний ключ на факультет;

department_id - внешний ключ на отделение.

### Студент

*Не стал переусложнять учебную таблицу, поэтому из личных данных - имя и дата рождения. Первичный ключ - "номер студенческого билета", хотя, вероятно, правильнее было бы сделать отдельное поле - ключ-кандидат, генерируемый по особым правилам.*

Таблица – students

Поля:

full_name – полное имя, обязательное;

date_of_birth – дата рождения, тип DATE, обязательное;

group_id – внешний ключ на группу, в которой учится студент.

### Преподаватель

*В данной упрощённой схеме преподаватель может работать только на одном факультете.*

Таблица – teachers

Поля:

full_name – полное имя, обязательное;

date_of_birth – дата рождения, тип DATE, обязательное;

faculty_id – внешний ключ на факультет, на котором трудоустроен преподаватель.

### Оценка

*Интерпретировал как справочник с доступными оценками для экзаменов и самостоятельных работ.
Хотя судя по заданиям, подразумевалось всё-таки что-то типа ведомости оценок.
Но решил оставить в своей интерпретации, т.к. в моём понимании "оценка" и "ведомость оценок" - разные вещи.*

Таблица – grades

Поля:

description – описание, обязательная строка ("отлично", "хорошо" и т.д.);

value – значение, обязательное целое число (5, 4 и т.д.).

### Учебный год

*В списке из 15 сущностей данной нет. 
Но в 5-м задании части 2 учебный год фигурирует, что вводит в некоторый диссонанс. 
Решил добавить эту сущность, т.к. в целом она оправдана.*

Таблица – years

Поля:

start_year – календарный год начала учебного года, целочисленное;

finist_year – календарный год окончания учебного года, целочисленное.

### Семестр

Таблица – semesters

Поля:

number – номер семестра, целочисленное;

year_id – внешний ключ на учебный год, которому принадлежит семестр.

### Курс

*Интерпретировал как учебную дисциплину.*

Таблица – courses

Поля:

name – название курса, уникальная строка.

### Программа курса

*Интерпретировал как... программу курса, т.е. перечень изучаемых тем.*

Таблица – course_programs

Поля:

theme – тема, обязательная строка;

academic_hours – количество академических часов на изучение темы, обязательное целое число;

course_id – внешний ключ на курс, которому принадлежит тема.

### Учебный план

*Список курсов, которые изучают группы в конкретном семестре.*

Таблица – educational_plans

Поля:

semester_id – внешний ключ на семестр;

course_id – внешний ключ на курс;

group_id – внешний ключ на группу.

### Расписание

*Расписание занятий согласно учебному плану с указанием места проведения и преподавателя.*

Таблица – schedules

Поля:

start_at – дата и время начала занятия, timestamp;

edu_plan_id – внешний ключ на учебный план;

teacher_id – внешний ключ на преподавателя;

audience_id – внешний ключ на аудиторию.

### Экзамен

*Оценивание студента по итогам прохождения курса из учебного плана его группы.*

Таблица – exams

Поля:

protection_date – дата экзамена, тип DATE;

edu_plan_id – внешний ключ на учебный план;

examiner_id – экзаменатор, внешний ключ на преподавателя;

student_id – внешний ключ на студента;

grade_id – внешний ключ на оценку.

### Задание для самостоятельной работы

*Оценивание самостоятельной работы студента (например, курсовой) 
по итогам прохождения курса из учебного плана его группы.*

Таблица – selfstudy_works

Поля:

protection_date – дата защиты, тип DATE;

theme – тема работы, уникальная строка;

edu_plan_id – внешний ключ на учебный план;

examiner_id – экзаменатор, внешний ключ на преподавателя;

scientific_adviser_id – научный руководитель, внешний ключ на преподавателя;

student_id – внешний ключ на студента;

grade_id – внешний ключ на оценку.
